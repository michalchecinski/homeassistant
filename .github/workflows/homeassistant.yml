name: Home Assistant CI

on:
  push:
  pull_request:
  schedule:
    - cron:  '0 12 * * *'

jobs:
  home-assistant:
    name: Home Assistant Core Configuration Check
    runs-on: ubuntu-latest
    steps:
      - name: ⤵️ Check out configuration from GitHub
        uses: actions/checkout@v2
      - name: ➕ Move stubs
        run: cp -r ./homeassistant/.stubs/ ./homeassistant/
      - name: 🚀 Run Home Assistant Configuration Check
        uses: frenck/action-home-assistant@v1
        with:
          path: "./homeassistant"
          secrets: ./homeassistant/.stubs/secrets.yaml
          version: stable
