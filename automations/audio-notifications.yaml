##################################
# Audio Notification Automations #
##################################

# Welcome when arrive at home
  - id: welcomme_home
    alias: Audio Notification - welcome home
    trigger:
      - platform: state
        entity_id: input_boolean.michal_home
        from: 'off'
        to: 'on'
    condition:
      - condition: state
        entity_id: input_boolean.guest_mode
        state: 'off'
    action:
      - delay: '00:01:00'
      - service: script.turn_on
        entity_id: script.say
        data:
          variables:
            volume: '1'
            what: 'Witaj w domu, Micha≈Ç'


  - id: sleep_audio
    alias: Audio Notification - sleep
    trigger:
      - platform: state
        entity_id: input_boolean.sleep
        from: 'off'
        to: 'on'
    condition:
      - condition: state
        entity_id: input_boolean.guest_mode
        state: 'off'
    action:
      - service: media_player.volume_set
        data_template:
          entity_id:  media_player.living_room_speaker
          volume_level: "1"
      - service: tts.google_say
        data_template:
          entity_id: media_player.living_room_speaker
          message: "Budzik nastawiony na {{ states('sensor.alarm_time') }}"
          cache: false
      - service: media_player.volume_set
        data_template:
          entity_id:  media_player.living_room_speaker
          volume_level: 0.5